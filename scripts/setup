#!/bin/bash

# commitlint
echo "ðŸš€ -----------> Install commitlint"
npm install --save-dev @commitlint/{cli,config-conventional}
echo "module.exports = { extends: ['@commitlint/config-conventional'] };" > commitlint.config.js
echo "âœ… ----------> commitlint installed successfully"

# Husky
echo "ðŸš€ ----------> Install Husky"
npm install husky --save-dev
npx husky-init
npm run prepare
npx husky add .husky/commit-msg ""
echo "npx --no -- commitlint --edit \$1" >> .husky/commit-msg
echo "âœ… ----------> Husky installed successfully"

# release-it
echo "ðŸš€ ----------> Install release-it"
npm install --save-dev release-it
npm set-script release "release-it"
echo "{
  \"git\": {
    \"commitMessage\": \"chore: release v\${version}\"
  },
  \"github\": {
    \"release\": true
  },
  \"npm\": {
    \"publish\": false
  }
}" > .release-it.json
echo "âœ… ----------> release-it successfully installed"
